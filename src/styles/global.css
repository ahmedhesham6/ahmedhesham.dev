@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme {
  --color-accent-50: oklch(0.97 0.02 250);
  --color-accent-100: oklch(0.93 0.04 250);
  --color-accent-200: oklch(0.87 0.08 250);
  --color-accent-300: oklch(0.78 0.12 250);
  --color-accent-400: oklch(0.68 0.16 250);
  --color-accent-500: oklch(0.58 0.20 250);
  --color-accent-600: oklch(0.50 0.18 250);
  --color-accent-700: oklch(0.42 0.15 250);
  --color-accent-800: oklch(0.35 0.12 250);
  --color-accent-900: oklch(0.28 0.08 250);

  --font-sans: 'Plus Jakarta Sans', ui-sans-serif, system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', ui-monospace, 'Cascadia Code', 'Fira Code', monospace;
}

@variant dark (&:where(.dark, .dark *));

/* ==========================================================================
   THEME PALETTES — Extreme Personality Variants
   Each theme: colors, accents, fonts, radius, shadows, glow, pattern
   ========================================================================== */

/* --- Paper: Minimalist editorial — sharp, flat, dot grid --- */
[data-theme="paper"] {
  --color-bg: #ffffff;
  --color-bg-secondary: #f7f7f5;
  --color-text: #1a1a1a;
  --color-text-secondary: #555555;
  --color-text-tertiary: #888888;
  --color-border: #e0e0e0;
  --color-border-hover: #c0c0c0;
  --color-accent-50: oklch(0.97 0.03 250);
  --color-accent-100: oklch(0.93 0.06 250);
  --color-accent-200: oklch(0.87 0.10 250);
  --color-accent-300: oklch(0.78 0.16 250);
  --color-accent-400: oklch(0.68 0.22 250);
  --color-accent-500: oklch(0.56 0.26 250);
  --color-accent-600: oklch(0.48 0.24 250);
  --color-accent-700: oklch(0.40 0.20 250);
  --color-accent-800: oklch(0.33 0.16 250);
  --color-accent-900: oklch(0.26 0.10 250);
  --font-sans: 'Plus Jakarta Sans', ui-sans-serif, system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', ui-monospace, monospace;
  --radius-sm: 2px;
  --radius-md: 4px;
  --radius-lg: 6px;
  --radius-full: 9999px;
  --shadow-card: none;
  --shadow-card-hover: 0 1px 3px rgba(0,0,0,0.08);
  --glow: none;
  --gradient-accent: linear-gradient(135deg, var(--color-accent-600), var(--color-accent-400));
  --hero-blob-a: oklch(0.68 0.22 250 / 0.12);
  --hero-blob-b: oklch(0.60 0.18 220 / 0.08);
  --hero-blob-c: oklch(0.72 0.14 280 / 0.06);
  color-scheme: light;
}

/* --- Dawn: Cozy literary — soft rounded, warm glow --- */
[data-theme="dawn"] {
  --color-bg: #faf4ed;
  --color-bg-secondary: #f2e9de;
  --color-text: #575279;
  --color-text-secondary: #6e6a86;
  --color-text-tertiary: #9893a5;
  --color-border: #dfdad9;
  --color-border-hover: #cecacd;
  --color-accent-50: oklch(0.97 0.03 10);
  --color-accent-100: oklch(0.93 0.06 10);
  --color-accent-200: oklch(0.85 0.12 10);
  --color-accent-300: oklch(0.75 0.18 10);
  --color-accent-400: oklch(0.65 0.22 10);
  --color-accent-500: oklch(0.55 0.24 10);
  --color-accent-600: oklch(0.48 0.22 10);
  --color-accent-700: oklch(0.40 0.18 10);
  --color-accent-800: oklch(0.33 0.14 10);
  --color-accent-900: oklch(0.26 0.08 10);
  --font-sans: 'Lora', ui-serif, Georgia, serif;
  --font-mono: 'JetBrains Mono', ui-monospace, monospace;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-full: 9999px;
  --shadow-card: 0 2px 12px rgba(140,100,70,0.06);
  --shadow-card-hover: 0 8px 30px rgba(140,100,70,0.12);
  --glow: none;
  --gradient-accent: linear-gradient(135deg, oklch(0.60 0.22 350), oklch(0.55 0.24 10), oklch(0.60 0.20 30));
  --hero-blob-a: oklch(0.65 0.20 350 / 0.12);
  --hero-blob-b: oklch(0.60 0.18 30 / 0.10);
  --hero-blob-c: oklch(0.55 0.16 10 / 0.07);
  color-scheme: light;
}

/* --- Night: Sleek modern — medium radius, soft shadow, grid bg --- */
[data-theme="night"] {
  --color-bg: #09090b;
  --color-bg-secondary: #131316;
  --color-text: #fafafa;
  --color-text-secondary: #a1a1aa;
  --color-text-tertiary: #71717a;
  --color-border: #27272a;
  --color-border-hover: #3f3f46;
  --color-accent-50: oklch(0.97 0.03 250);
  --color-accent-100: oklch(0.93 0.06 250);
  --color-accent-200: oklch(0.87 0.10 250);
  --color-accent-300: oklch(0.78 0.16 250);
  --color-accent-400: oklch(0.70 0.22 250);
  --color-accent-500: oklch(0.60 0.26 250);
  --color-accent-600: oklch(0.52 0.24 250);
  --color-accent-700: oklch(0.44 0.20 250);
  --color-accent-800: oklch(0.36 0.16 250);
  --color-accent-900: oklch(0.28 0.10 250);
  --font-sans: 'Inter', ui-sans-serif, system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', ui-monospace, monospace;
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-full: 9999px;
  --shadow-card: 0 0 0 1px var(--color-border);
  --shadow-card-hover: 0 0 0 1px var(--color-border-hover), 0 4px 20px rgba(0,0,0,0.4);
  --glow: 0 0 20px oklch(0.60 0.26 250 / 0.15);
  --gradient-accent: linear-gradient(135deg, oklch(0.65 0.28 240), oklch(0.55 0.30 260));
  --hero-blob-a: oklch(0.60 0.28 250 / 0.18);
  --hero-blob-b: oklch(0.55 0.22 220 / 0.12);
  --hero-blob-c: oklch(0.65 0.18 280 / 0.08);
  color-scheme: dark;
}

/* --- Midnight: Technical futuristic — angular, cyan glow, blueprint --- */
[data-theme="midnight"] {
  --color-bg: #080c18;
  --color-bg-secondary: #0e1528;
  --color-text: #c9d5e8;
  --color-text-secondary: #7b93b8;
  --color-text-tertiary: #4a6590;
  --color-border: #152044;
  --color-border-hover: #1e3060;
  --color-accent-50: oklch(0.97 0.04 210);
  --color-accent-100: oklch(0.93 0.08 210);
  --color-accent-200: oklch(0.85 0.14 210);
  --color-accent-300: oklch(0.75 0.20 210);
  --color-accent-400: oklch(0.68 0.24 210);
  --color-accent-500: oklch(0.60 0.26 210);
  --color-accent-600: oklch(0.52 0.22 210);
  --color-accent-700: oklch(0.44 0.18 210);
  --color-accent-800: oklch(0.36 0.14 210);
  --color-accent-900: oklch(0.28 0.10 210);
  --font-sans: 'IBM Plex Sans', ui-sans-serif, system-ui, sans-serif;
  --font-mono: 'IBM Plex Mono', ui-monospace, monospace;
  --radius-sm: 2px;
  --radius-md: 4px;
  --radius-lg: 8px;
  --radius-full: 9999px;
  --shadow-card: 0 0 0 1px var(--color-border), inset 0 1px 0 rgba(100,180,255,0.04);
  --shadow-card-hover: 0 0 0 1px oklch(0.60 0.26 210 / 0.5), 0 0 30px oklch(0.60 0.26 210 / 0.10);
  --glow: 0 0 30px oklch(0.60 0.26 210 / 0.25);
  --gradient-accent: linear-gradient(135deg, oklch(0.70 0.24 200), oklch(0.55 0.28 220));
  --hero-blob-a: oklch(0.65 0.26 210 / 0.20);
  --hero-blob-b: oklch(0.55 0.20 190 / 0.14);
  --hero-blob-c: oklch(0.70 0.18 230 / 0.10);
  color-scheme: dark;
}

/* --- Ember: Warm rugged — organic curves, amber glow, noise --- */
[data-theme="ember"] {
  --color-bg: #0f0b08;
  --color-bg-secondary: #1a140e;
  --color-text: #ede0d0;
  --color-text-secondary: #b59d82;
  --color-text-tertiary: #7d6950;
  --color-border: #2e2318;
  --color-border-hover: #3d3022;
  --color-accent-50: oklch(0.97 0.04 50);
  --color-accent-100: oklch(0.93 0.08 50);
  --color-accent-200: oklch(0.85 0.14 50);
  --color-accent-300: oklch(0.75 0.20 45);
  --color-accent-400: oklch(0.68 0.22 40);
  --color-accent-500: oklch(0.62 0.24 38);
  --color-accent-600: oklch(0.54 0.22 38);
  --color-accent-700: oklch(0.46 0.18 40);
  --color-accent-800: oklch(0.38 0.14 45);
  --color-accent-900: oklch(0.30 0.08 50);
  --font-sans: 'Bricolage Grotesque', ui-sans-serif, system-ui, sans-serif;
  --font-mono: 'Source Code Pro', ui-monospace, monospace;
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 10px;
  --radius-full: 9999px;
  --shadow-card: 0 2px 8px rgba(20,10,0,0.3);
  --shadow-card-hover: 0 8px 30px rgba(180,120,40,0.12), 0 0 0 1px rgba(180,120,40,0.15);
  --glow: 0 0 30px oklch(0.62 0.24 38 / 0.20);
  --gradient-accent: linear-gradient(135deg, oklch(0.68 0.22 30), oklch(0.60 0.26 50), oklch(0.55 0.20 70));
  --hero-blob-a: oklch(0.62 0.24 38 / 0.22);
  --hero-blob-b: oklch(0.58 0.20 20 / 0.15);
  --hero-blob-c: oklch(0.55 0.16 60 / 0.10);
  color-scheme: dark;
}

/* --- Cosmos: Dreamy spacey — pill shapes, purple halo, stardust --- */
[data-theme="cosmos"] {
  --color-bg: #0a0610;
  --color-bg-secondary: #120e1c;
  --color-text: #e8e0f8;
  --color-text-secondary: #a896c8;
  --color-text-tertiary: #7560a0;
  --color-border: #1e1530;
  --color-border-hover: #2e2244;
  --color-accent-50: oklch(0.97 0.04 295);
  --color-accent-100: oklch(0.93 0.08 295);
  --color-accent-200: oklch(0.85 0.14 295);
  --color-accent-300: oklch(0.75 0.20 290);
  --color-accent-400: oklch(0.68 0.24 285);
  --color-accent-500: oklch(0.60 0.26 285);
  --color-accent-600: oklch(0.52 0.24 290);
  --color-accent-700: oklch(0.44 0.20 295);
  --color-accent-800: oklch(0.36 0.16 300);
  --color-accent-900: oklch(0.28 0.10 300);
  --font-sans: 'Sora', ui-sans-serif, system-ui, sans-serif;
  --font-mono: 'Fira Code', ui-monospace, monospace;
  --radius-sm: 10px;
  --radius-md: 16px;
  --radius-lg: 24px;
  --radius-full: 9999px;
  --shadow-card: 0 0 0 1px var(--color-border), 0 4px 20px rgba(80,40,120,0.10);
  --shadow-card-hover: 0 0 0 1px oklch(0.60 0.26 285 / 0.4), 0 8px 40px rgba(120,60,200,0.15);
  --glow: 0 0 40px oklch(0.60 0.26 285 / 0.25);
  --gradient-accent: linear-gradient(135deg, oklch(0.70 0.24 270), oklch(0.55 0.28 300), oklch(0.65 0.20 320));
  --hero-blob-a: oklch(0.65 0.26 285 / 0.22);
  --hero-blob-b: oklch(0.55 0.22 310 / 0.16);
  --hero-blob-c: oklch(0.60 0.18 260 / 0.12);
  color-scheme: dark;
}

/* --- Forest: Deep woodland — organic, emerald glow, moss --- */
[data-theme="forest"] {
  --color-bg: #070f0b;
  --color-bg-secondary: #0e1a14;
  --color-text: #c8e0d0;
  --color-text-secondary: #7da88a;
  --color-text-tertiary: #4d7858;
  --color-border: #152e1e;
  --color-border-hover: #1e4030;
  --color-accent-50: oklch(0.97 0.04 155);
  --color-accent-100: oklch(0.93 0.08 155);
  --color-accent-200: oklch(0.85 0.14 155);
  --color-accent-300: oklch(0.75 0.20 155);
  --color-accent-400: oklch(0.68 0.22 155);
  --color-accent-500: oklch(0.58 0.22 155);
  --color-accent-600: oklch(0.50 0.20 155);
  --color-accent-700: oklch(0.42 0.16 155);
  --color-accent-800: oklch(0.35 0.12 155);
  --color-accent-900: oklch(0.28 0.08 155);
  --font-sans: 'DM Sans', ui-sans-serif, system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', ui-monospace, monospace;
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 14px;
  --radius-full: 9999px;
  --shadow-card: 0 0 0 1px var(--color-border), 0 2px 12px rgba(10,40,20,0.20);
  --shadow-card-hover: 0 0 0 1px oklch(0.58 0.22 155 / 0.4), 0 8px 30px rgba(20,80,40,0.15);
  --glow: 0 0 30px oklch(0.58 0.22 155 / 0.20);
  --gradient-accent: linear-gradient(135deg, oklch(0.65 0.22 145), oklch(0.55 0.24 160), oklch(0.60 0.18 175));
  --hero-blob-a: oklch(0.60 0.22 155 / 0.20);
  --hero-blob-b: oklch(0.55 0.18 140 / 0.14);
  --hero-blob-c: oklch(0.50 0.16 175 / 0.10);
  color-scheme: dark;
}

/* --- Sakura: Cherry blossom — delicate, pink warmth, refined --- */
[data-theme="sakura"] {
  --color-bg: #fef5f7;
  --color-bg-secondary: #fcedf1;
  --color-text: #3d2832;
  --color-text-secondary: #6b4a58;
  --color-text-tertiary: #9a7888;
  --color-border: #f0d8e0;
  --color-border-hover: #e4c0cc;
  --color-accent-50: oklch(0.97 0.03 350);
  --color-accent-100: oklch(0.93 0.06 350);
  --color-accent-200: oklch(0.85 0.12 350);
  --color-accent-300: oklch(0.75 0.18 350);
  --color-accent-400: oklch(0.65 0.22 350);
  --color-accent-500: oklch(0.55 0.24 350);
  --color-accent-600: oklch(0.48 0.22 350);
  --color-accent-700: oklch(0.40 0.18 350);
  --color-accent-800: oklch(0.33 0.14 350);
  --color-accent-900: oklch(0.26 0.08 350);
  --font-sans: 'Outfit', ui-sans-serif, system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', ui-monospace, monospace;
  --radius-sm: 10px;
  --radius-md: 14px;
  --radius-lg: 20px;
  --radius-full: 9999px;
  --shadow-card: 0 2px 12px rgba(160,80,110,0.06);
  --shadow-card-hover: 0 8px 30px rgba(160,80,110,0.12);
  --glow: none;
  --gradient-accent: linear-gradient(135deg, oklch(0.65 0.22 340), oklch(0.55 0.24 355), oklch(0.60 0.20 10));
  --hero-blob-a: oklch(0.68 0.20 350 / 0.12);
  --hero-blob-b: oklch(0.60 0.18 330 / 0.08);
  --hero-blob-c: oklch(0.55 0.14 10 / 0.06);
  color-scheme: light;
}

/* --- Noir: Cinematic monochrome — razor sharp, red accent, dramatic --- */
[data-theme="noir"] {
  --color-bg: #050505;
  --color-bg-secondary: #0e0e0e;
  --color-text: #f0f0f0;
  --color-text-secondary: #999999;
  --color-text-tertiary: #555555;
  --color-border: #1c1c1c;
  --color-border-hover: #2c2c2c;
  --color-accent-50: oklch(0.97 0.03 15);
  --color-accent-100: oklch(0.93 0.06 15);
  --color-accent-200: oklch(0.85 0.14 15);
  --color-accent-300: oklch(0.75 0.20 15);
  --color-accent-400: oklch(0.65 0.24 15);
  --color-accent-500: oklch(0.55 0.26 15);
  --color-accent-600: oklch(0.48 0.24 15);
  --color-accent-700: oklch(0.40 0.20 15);
  --color-accent-800: oklch(0.33 0.16 15);
  --color-accent-900: oklch(0.26 0.10 15);
  --font-sans: 'Manrope', ui-sans-serif, system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', ui-monospace, monospace;
  --radius-sm: 0px;
  --radius-md: 2px;
  --radius-lg: 4px;
  --radius-full: 9999px;
  --shadow-card: 0 0 0 1px var(--color-border);
  --shadow-card-hover: 0 0 0 1px oklch(0.55 0.26 15 / 0.5), 0 4px 20px rgba(0,0,0,0.5);
  --glow: 0 0 20px oklch(0.55 0.26 15 / 0.12);
  --gradient-accent: linear-gradient(135deg, oklch(0.60 0.28 10), oklch(0.50 0.26 20));
  --hero-blob-a: oklch(0.55 0.26 15 / 0.16);
  --hero-blob-b: oklch(0.50 0.20 5 / 0.10);
  --hero-blob-c: oklch(0.45 0.16 25 / 0.07);
  color-scheme: dark;
}

/* ==========================================================================
   BASE STYLES
   ========================================================================== */

html {
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  scroll-behavior: smooth;
}

/* Smooth theme transitions */
html[data-theme] {
  transition: background-color 0.4s ease, color 0.3s ease;
}

html[data-theme] body {
  transition: background-color 0.4s ease, color 0.3s ease;
}

body {
  background-color: var(--color-bg);
  color: var(--color-text);
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Background patterns per theme */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.4s ease;
}

/* Paper: fine dot grid */
[data-theme="paper"] body::before {
  opacity: 0.4;
  background-image: radial-gradient(circle, #c0c0c0 0.5px, transparent 0.5px);
  background-size: 24px 24px;
}

/* Night: faint grid lines */
[data-theme="night"] body::before {
  opacity: 0.04;
  background-image:
    linear-gradient(var(--color-border) 1px, transparent 1px),
    linear-gradient(90deg, var(--color-border) 1px, transparent 1px);
  background-size: 60px 60px;
}

/* Midnight: blueprint grid */
[data-theme="midnight"] body::before {
  opacity: 0.06;
  background-image:
    linear-gradient(oklch(0.60 0.20 210 / 0.3) 1px, transparent 1px),
    linear-gradient(90deg, oklch(0.60 0.20 210 / 0.3) 1px, transparent 1px);
  background-size: 40px 40px;
}

/* Ember: noise texture via SVG */
[data-theme="ember"] body::before {
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='1'/%3E%3C/svg%3E");
  background-size: 256px 256px;
}

/* Cosmos: star dots */
[data-theme="cosmos"] body::before {
  opacity: 0.5;
  background-image:
    radial-gradient(circle, oklch(0.90 0.04 285) 0.5px, transparent 0.5px),
    radial-gradient(circle, oklch(0.85 0.06 295) 0.3px, transparent 0.3px);
  background-size: 80px 80px, 47px 53px;
  background-position: 0 0, 23px 31px;
}

/* Forest: organic scattered dots (like moss spores) */
[data-theme="forest"] body::before {
  opacity: 0.35;
  background-image:
    radial-gradient(circle, oklch(0.55 0.18 155) 0.6px, transparent 0.6px),
    radial-gradient(circle, oklch(0.50 0.14 145) 0.4px, transparent 0.4px);
  background-size: 52px 48px, 33px 37px;
  background-position: 0 0, 17px 23px;
}

/* Sakura: soft petal dots */
[data-theme="sakura"] body::before {
  opacity: 0.3;
  background-image: radial-gradient(circle, oklch(0.70 0.12 350) 0.5px, transparent 0.5px);
  background-size: 32px 32px;
}

/* Noir: none — pure clean */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ==========================================================================
   ANIMATED GRADIENT TEXT
   ========================================================================== */

@keyframes gradient-shift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.gradient-text {
  background: var(--gradient-accent);
  background-size: 200% 200%;
  animation: gradient-shift 6s ease infinite;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* ==========================================================================
   SCROLL REVEAL
   ========================================================================== */

@keyframes reveal-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.reveal {
  opacity: 0;
}

.reveal.revealed {
  animation: reveal-up 0.6s ease forwards;
}

/* ==========================================================================
   READING PROGRESS BAR
   ========================================================================== */

.reading-progress {
  position: fixed;
  top: 0;
  left: 0;
  height: 2px;
  background: var(--gradient-accent);
  z-index: 100;
  width: 0%;
  transition: width 50ms linear;
}

/* ==========================================================================
   SHIKI MULTI-THEME SWITCHING
   ========================================================================== */

[data-theme="dawn"] :is(.astro-code, .astro-code span) {
  color: var(--shiki-rose-pine-dawn) !important;
  background-color: var(--shiki-rose-pine-dawn-bg) !important;
  font-style: var(--shiki-rose-pine-dawn-font-style) !important;
  font-weight: var(--shiki-rose-pine-dawn-font-weight) !important;
  text-decoration: var(--shiki-rose-pine-dawn-font-decoration) !important;
}

[data-theme="night"] :is(.astro-code, .astro-code span) {
  color: var(--shiki-github-dark) !important;
  background-color: var(--shiki-github-dark-bg) !important;
  font-style: var(--shiki-github-dark-font-style) !important;
  font-weight: var(--shiki-github-dark-font-weight) !important;
  text-decoration: var(--shiki-github-dark-font-decoration) !important;
}

[data-theme="midnight"] :is(.astro-code, .astro-code span) {
  color: var(--shiki-tokyo-night) !important;
  background-color: var(--shiki-tokyo-night-bg) !important;
  font-style: var(--shiki-tokyo-night-font-style) !important;
  font-weight: var(--shiki-tokyo-night-font-weight) !important;
  text-decoration: var(--shiki-tokyo-night-font-decoration) !important;
}

[data-theme="ember"] :is(.astro-code, .astro-code span) {
  color: var(--shiki-vitesse-dark) !important;
  background-color: var(--shiki-vitesse-dark-bg) !important;
  font-style: var(--shiki-vitesse-dark-font-style) !important;
  font-weight: var(--shiki-vitesse-dark-font-weight) !important;
  text-decoration: var(--shiki-vitesse-dark-font-decoration) !important;
}

[data-theme="cosmos"] :is(.astro-code, .astro-code span) {
  color: var(--shiki-dracula) !important;
  background-color: var(--shiki-dracula-bg) !important;
  font-style: var(--shiki-dracula-font-style) !important;
  font-weight: var(--shiki-dracula-font-weight) !important;
  text-decoration: var(--shiki-dracula-font-decoration) !important;
}

[data-theme="forest"] :is(.astro-code, .astro-code span) {
  color: var(--shiki-one-dark-pro) !important;
  background-color: var(--shiki-one-dark-pro-bg) !important;
  font-style: var(--shiki-one-dark-pro-font-style) !important;
  font-weight: var(--shiki-one-dark-pro-font-weight) !important;
  text-decoration: var(--shiki-one-dark-pro-font-decoration) !important;
}

[data-theme="sakura"] :is(.astro-code, .astro-code span) {
  color: var(--shiki-min-light) !important;
  background-color: var(--shiki-min-light-bg) !important;
  font-style: var(--shiki-min-light-font-style) !important;
  font-weight: var(--shiki-min-light-font-weight) !important;
  text-decoration: var(--shiki-min-light-font-decoration) !important;
}

[data-theme="noir"] :is(.astro-code, .astro-code span) {
  color: var(--shiki-github-dark) !important;
  background-color: var(--shiki-github-dark-bg) !important;
  font-style: var(--shiki-github-dark-font-style) !important;
  font-weight: var(--shiki-github-dark-font-weight) !important;
  text-decoration: var(--shiki-github-dark-font-decoration) !important;
}

/* ==========================================================================
   HEADING ANCHORS & PROSE
   ========================================================================== */

:is(h1, h2, h3, h4, h5, h6)[id] {
  scroll-margin-top: 5rem;
}

.prose {
  --tw-prose-body: var(--color-text);
  --tw-prose-headings: var(--color-text);
  --tw-prose-links: var(--color-accent-600);
  --tw-prose-code: var(--color-text);
  --tw-prose-quotes: var(--color-text-secondary);
  --tw-prose-quote-borders: var(--color-border);
  --tw-prose-hr: var(--color-border);
}

.dark .prose {
  --tw-prose-links: var(--color-accent-400);
}

/* Animated link underline in prose */
.prose a {
  text-decoration: none;
  background-image: linear-gradient(var(--color-accent-400), var(--color-accent-400));
  background-size: 0% 1px;
  background-position: 0 100%;
  background-repeat: no-repeat;
  transition: background-size 0.3s ease;
}

.prose a:hover {
  background-size: 100% 1px;
}

/* ==========================================================================
   FLOATING HEADER
   ========================================================================== */

.header-fade::before {
  content: '';
  position: absolute;
  inset: 0;
  bottom: -1rem;
  background: linear-gradient(to bottom, var(--color-bg) 40%, transparent);
  pointer-events: none;
  z-index: -1;
}

/* ==========================================================================
   HERO AURORA — Multi-blob mesh gradient (Stripe-inspired)
   3 independently animated blobs per theme, blended for organic glow
   ========================================================================== */

@keyframes aurora-a {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(40px, -30px) scale(1.1); }
  50% { transform: translate(-20px, 20px) scale(0.95); }
  75% { transform: translate(30px, 10px) scale(1.05); }
}

@keyframes aurora-b {
  0%, 100% { transform: translate(0, 0) scale(1); }
  30% { transform: translate(-50px, 20px) scale(1.15); }
  60% { transform: translate(30px, -40px) scale(0.9); }
  80% { transform: translate(-10px, -10px) scale(1.05); }
}

@keyframes aurora-c {
  0%, 100% { transform: translate(0, 0) scale(1); }
  20% { transform: translate(20px, 40px) scale(0.9); }
  50% { transform: translate(-40px, -20px) scale(1.1); }
  70% { transform: translate(10px, -30px) scale(1.05); }
}

.hero-aurora {
  position: absolute;
  top: -6rem;
  bottom: -6rem;
  left: 50%;
  transform: translateX(-50%);
  width: 100vw;
  overflow: hidden;
  pointer-events: none;
  mask-image: radial-gradient(ellipse 90% 100% at 60% 40%, black 25%, transparent 75%);
  -webkit-mask-image: radial-gradient(ellipse 90% 100% at 60% 40%, black 25%, transparent 75%);
}

.hero-aurora__blob {
  position: absolute;
  border-radius: 50%;
  filter: blur(70px);
  will-change: transform;
}

.hero-aurora__blob--a {
  width: 44rem;
  height: 44rem;
  top: -14rem;
  right: -10rem;
  background: var(--hero-blob-a);
  animation: aurora-a 12s ease-in-out infinite;
}

.hero-aurora__blob--b {
  width: 36rem;
  height: 36rem;
  top: -8rem;
  right: 6rem;
  background: var(--hero-blob-b);
  animation: aurora-b 16s ease-in-out infinite;
}

.hero-aurora__blob--c {
  width: 30rem;
  height: 30rem;
  top: -2rem;
  right: -6rem;
  background: var(--hero-blob-c);
  animation: aurora-c 20s ease-in-out infinite;
}

@media (prefers-reduced-motion: reduce) {
  .hero-aurora__blob {
    animation: none !important;
  }
}

/* ==========================================================================
   CARD INTERACTIONS
   ========================================================================== */

.card-glow {
  box-shadow: var(--shadow-card);
  transition: box-shadow 0.3s ease, border-color 0.2s ease, transform 0.2s ease, background-color 0.2s ease;
}

.card-glow:hover {
  box-shadow: var(--shadow-card-hover);
}

/* ==========================================================================
   SOCIAL LINK HOVER
   ========================================================================== */

.social-link {
  transition: color 0.2s ease, transform 0.15s ease;
}

.social-link:hover {
  transform: translateY(-1px);
}

/* ==========================================================================
   REACTION BUTTONS
   ========================================================================== */

.reaction-btn svg {
  transition: color 0.2s ease;
}

.reaction-active {
  border-color: var(--color-accent-400) !important;
}

.reaction-active svg {
  color: var(--color-accent-400);
}

/* ==========================================================================
   GLOBAL FOCUS & CURSOR
   ========================================================================== */

:where(:focus-visible) {
  outline: 2px solid var(--color-accent-500);
  outline-offset: 2px;
}

:where(a, button, [role="button"], [role="option"], summary, select) {
  cursor: pointer;
}
